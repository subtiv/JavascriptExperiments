
<html>
<head>
<script src="processing.js"></script>
<script src="init.js"></script>

<style type="text/css">
body {
	margin: 0px;
	background-color: #000000;
}

canvas{
background-color: #000000;
}

p
{
	color:#FFFFFF;
}

</style>
<title>HTML 5 + Processing</title>
</head>

<body>

<script type="application/processing">

Spot[] spots = new Spot[200];

void setup(){
  size(window.innerWidth, window.innerHeight);
  background(0);
  noStroke();
  smooth();

  for(int a = 0; a<spots.length; a++){
    Spot newSpot = new Spot(a);
    spots[a] = newSpot;
  }
}

void draw() {
  for(int i = 0; i<spots.length; i++){
    spots[i].mover(mouseX, mouseY);
    spots[i].draw();
  }
}

void mousePressed(){
  background(0);
}

class Spot 
{
  float x, y, speed;
  color c;
  int id;

  Spot(int _id) {
    id = _id;
    speed = random(-30, 30);
    c = color(random(255),random(255),random(255));
  }

  void mover(float _x, float _y) {
    x += (_x-x)/speed;
    y += (_y-y)/speed;
  }

  void draw() {
    fill(c);
    y += id % 2 == 0 ? 2 : -2;
    ellipse(x,y,1,1);
  }
}
</script>
<canvas>
<p>no HTML 5 for you, get rid of your browser...</p>
</canvas>

</body>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-1605069-11']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</html>
