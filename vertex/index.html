<html>
<head>
<script src="processing.js"></script>
<script src="init.js"></script>
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
    _uacct = "UA-1605069-1";
    urchinTracker();
</script>



<style type="text/css">
body {
	margin: 0px;
	background-color: #cccccc;
}
</style>
<title>HTML 5 + Processing</title>
</head>

<body>
<script type="application/processing">

myCanvas = document.getElementsByTagName("canvas")[0];

myCanvas.style.width="100%";
myCanvas.style.height="100%";
	
myCanvas.width=myCanvas.offsetWidth;
myCanvas.height=myCanvas.offsetHeight;
	
			
class Point{
  float x;
  float y;
  Point(float _x, float _y){
    x = _x;
    y = _y;
  } 
}

Point[] pts = new Point[25];
int count = 0;
color c = color(random(255),random(255),random(255));

void setup(){
  size(window.innerWidth, window.innerHeight);
  frameRate(60);
  smooth();
}

void draw(){
  background(0);
  fill(c);
  
  if(count > 24) {
    count = 0;
	c = color(random(255),random(255),random(255));
  }

  Point newPoint = new Point(mouseX, mouseY);
  pts[count] = newPoint;
  count++;
	
  beginShape();

  for(int i = 1; i<pts.length-1; i++){
    if(pts[i] != null && mouseX != 0 && mouseY != 0){
	  stroke(c, 100);
      line(mouseX, mouseY, pts[i].x, pts[i].y);
    }
  }

  endShape();
}

</script>
<canvas>
<p>no HTML 5 for you</p>
</canvas>
</body>

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-1605069-11']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

<div><a href="http://github.com/silviopaganini/JavascriptExperiments"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://d3nwyuy0nl342s.cloudfront.net/img/4c7dc970b89fd04b81c8e221ba88ff99a06c6b61/687474703a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f77686974655f6666666666662e706e67" alt="Fork me on GitHub"></a></div>
</html>
